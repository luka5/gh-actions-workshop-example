name:  ci-workflow
on:
  workflow_dispatch:
  push:

jobs:
  cipipeline:
    name: ci-pipeline
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: 20
        cache: 'npm'
    - shell: bash
      run:
        npm ci
        npm run prettier
        npm run typecheck
        npm run test
        npm run build
